# 个性化导航页

一个现代化的、可自定义的浏览器导航页面，支持网站卡片管理、时钟显示和搜索功能。

## 功能特点

### 1. 时钟显示
- 支持两种显示模式：
  - 日期时间：显示时间（含秒）和完整日期
  - 仅时间：只显示时间（含秒）
- 实时更新
- 可自定义显示样式

### 2. 网站卡片管理
- 添加、编辑、删除网站卡片
- 支持自定义网站图标（使用 Remix Icon）
- 长按进入排序模式
- 拖拽排序功能
- 右键菜单操作（编辑/删除）
- 支持两种卡片大小：
  - 小卡片：120px × 120px
  - 大卡片：160px × 160px

### 3. 搜索功能
- 支持 Google 搜索
- 回车或点击搜索按钮触发
- 自动聚焦到搜索框

### 4. 设置面板
- 卡片大小设置
- 时钟样式设置
- 背景设置：
  - 上传背景图片
  - 选择背景颜色

### 5. 数据存储
- 本地存储支持
- 服务器存储支持（Python Flask 后端）
- 数据自动同步

## 技术栈

### 前端
- HTML5
- CSS3
  - Flexbox/Grid 布局
  - CSS 动画
  - 响应式设计
- JavaScript
  - 原生 JS
  - 拖拽 API
  - LocalStorage API

### 后端
- Python
- Flask
- JSON 文件存储

## 安装和运行

1. 安装 Python 依赖：
```bash
pip install flask
```

2. 运行服务器：
```bash
python server.py
```

3. 访问网页：
打开浏览器访问 `http://localhost:5000`

## 使用说明

### 添加网站
1. 点击"添加网站"卡片
2. 填写网站信息：
   - 网站名称
   - 网站地址
   - 图标类名（从 [Remix Icon](https://remixicon.com/) 选择）

### 管理网站卡片
- 右键点击卡片显示操作菜单
- 长按卡片进入排序模式
- 拖拽卡片调整顺序
- 点击"完成排序"保存新顺序

### 自定义设置
1. 点击右上角设置按钮
2. 选择卡片大小
3. 选择时钟样式
4. 设置背景（图片或颜色）

## 浏览器兼容性
- Chrome (推荐)
- Firefox
- Safari
- Edge

## 注意事项
- 建议使用现代浏览器以获得最佳体验
- 背景图片建议使用合适分辨率的图片
- 网站地址需要包含 `http://` 或 `https://`

## 许可证
MIT License

## 设置项统一管理规则

本项目所有用户设置（包括卡片大小、时钟样式、背景类型、背景颜色、背景图片、是否随机背景等）均通过后端的 `settings.json` 文件统一存储和管理。具体规则如下：

- 所有设置项的变更，前端会通过 `/api/settings` 接口（GET/POST）与后端同步，后端会实时更新 `settings.json` 文件。
- 前端页面初始化和每次打开设置面板时，都会从服务器拉取最新的设置并自动高亮当前选项。
- 设置项包括但不限于：
  - `cardSize`：卡片大小（small/large）
  - `clockStyle`：时钟样式（simple/time-only）
  - `backgroundType`：背景类型（color/image）
  - `backgroundColor`：背景颜色
  - `backgroundImage`：当前选中的背景图片
  - `randomBackground`：是否启用随机背景图片
- 所有设置项的更改都会立即保存到服务器，刷新页面后自动恢复。
- 未来如需扩展更多设置项，建议直接在 `settings.json` 增加字段，并在前端通过 `/api/settings` 读写。

这样可以保证所有用户个性化设置都能持久化、同步且易于维护。

## 新增功能（2024年6月）
- 支持背景图片上传、删除（右键菜单）
- 背景图片区域支持滚动，最多显示3行，滚动条自动隐藏
- 选中背景图片高亮显示，主题色自动适配
- 背景图片右键菜单支持删除，删除后自动切换默认背景
- 支持Docker一键部署

## Docker 部署

1. 构建镜像
```bash
docker-compose build
```
2. 启动服务
```bash
docker-compose up -d
```
3. 访问页面
浏览器访问 http://localhost:5000 